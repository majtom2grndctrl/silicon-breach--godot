[gd_scene format=3]

[ext_resource type="Script" path="res://entities/ComponentHost.gd" id=1]
[ext_resource type="Script" path="res://components/ObjectiveSpawnPointComponent.gd" id=2]

[sub_resource type="Resource" id=1]
script = ExtResource(2)
pool_name = "pickup"

[sub_resource type="Resource" id=2]
script = ExtResource(2)
pool_name = "delivery"

[sub_resource type="SphereShape3D" id=3]
radius = 1.5

[sub_resource type="PlaneMesh" id=4]
size = Vector2(40, 40)

[sub_resource type="StandardMaterial3D" id=5]
albedo_color = Color(0.08, 0.08, 0.1, 1)

[sub_resource type="BoxMesh" id=6]
size = Vector3(8, 0.1, 40)

[sub_resource type="StandardMaterial3D" id=7]
albedo_color = Color(0.05, 0.05, 0.05, 1)

[sub_resource type="BoxMesh" id=8]
size = Vector3(12, 0.2, 12)

[sub_resource type="StandardMaterial3D" id=9]
albedo_color = Color(0.12, 0.12, 0.12, 1)

[sub_resource type="BoxShape3D" id=10]
size = Vector3(40, 1, 40)

[sub_resource type="Environment" id=11]
background_mode = 1
ambient_light_color = Color(0.08, 0.08, 0.1, 1)
ambient_light_energy = 0.6
fog_enabled = true
fog_light_color = Color(0.06, 0.07, 0.1, 1)
fog_density = 0.02

[sub_resource type="StandardMaterial3D" id=12]
albedo_color = Color(0.2, 0.9, 0.95, 1)
emission_enabled = true
emission = Color(0.2, 0.9, 0.95, 1)
emission_energy = 1.5

[sub_resource type="BoxMesh" id=13]
size = Vector3(2, 1.2, 0.2)

[node name="Exterior" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource(11)

[node name="SunLight" type="DirectionalLight3D" parent="."]
rotation = Vector3(-0.9, 0.6, 0)
light_energy = 0.6

[node name="NeonLight" type="OmniLight3D" parent="."]
position = Vector3(5.5, 2.4, -3.5)
light_color = Color(0.2, 0.9, 0.95, 1)
light_energy = 3.0
omni_range = 8.0

[node name="AmbientCity" type="AudioStreamPlayer3D" parent="."]
position = Vector3(0, 1.5, 0)
autoplay = true
volume_db = -6.0

[node name="Ground" type="MeshInstance3D" parent="."]
mesh = SubResource(4)
material_override = SubResource(5)

[node name="GroundCollider" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="GroundCollider"]
shape = SubResource(10)

[node name="RoadNorthSouth" type="MeshInstance3D" parent="."]
mesh = SubResource(6)
material_override = SubResource(7)

[node name="RoadEastWest" type="MeshInstance3D" parent="."]
mesh = SubResource(6)
material_override = SubResource(7)
rotation = Vector3(0, 1.5708, 0)

[node name="SidewalkNW" type="MeshInstance3D" parent="."]
position = Vector3(-10, 0.05, -10)
mesh = SubResource(8)
material_override = SubResource(9)

[node name="SidewalkNE" type="MeshInstance3D" parent="."]
position = Vector3(10, 0.05, -10)
mesh = SubResource(8)
material_override = SubResource(9)

[node name="SidewalkSW" type="MeshInstance3D" parent="."]
position = Vector3(-10, 0.05, 10)
mesh = SubResource(8)
material_override = SubResource(9)

[node name="SidewalkSE" type="MeshInstance3D" parent="."]
position = Vector3(10, 0.05, 10)
mesh = SubResource(8)
material_override = SubResource(9)

[node name="NeonSign" type="MeshInstance3D" parent="."]
position = Vector3(5.5, 2.4, -3.5)
mesh = SubResource(13)
material_override = SubResource(12)

[node name="PlayerSpawn" type="Marker3D" parent="."]
position = Vector3(0, 0, 4)

[node name="KessSpawn" type="Marker3D" parent="."]
position = Vector3(3.5, 0, 3.5)

[node name="PickupSpawn" type="Marker3D" parent="."]
position = Vector3(-6, 0, 0)
script = ExtResource(1)
components_list = [SubResource(1)]

[node name="InteractionArea" type="Area3D" parent="PickupSpawn"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="PickupSpawn/InteractionArea"]
shape = SubResource(3)

[node name="DeliverySpawn" type="Marker3D" parent="."]
position = Vector3(6, 0, 0)
script = ExtResource(1)
components_list = [SubResource(2)]

[node name="InteractionArea" type="Area3D" parent="DeliverySpawn"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="DeliverySpawn/InteractionArea"]
shape = SubResource(3)
